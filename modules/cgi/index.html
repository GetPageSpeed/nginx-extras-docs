
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="RPM package nginx-module-cgi. CGI support for NGINX ">
      
      
        <meta name="author" content="Danila Vershinin">
      
      
        <link rel="canonical" href="https://nginx-extras.getpagespeed.com/modules/cgi/">
      
      
        <link rel="prev" href="../captcha/">
      
      
        <link rel="next" href="../combined-upstreams/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.28">
    
    
      
        <title>CGI support for NGINX - NGINX Extras Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-YZHLYCQK9D"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-YZHLYCQK9D",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-YZHLYCQK9D",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="CGI support for NGINX - NGINX Extras Documentation" >
      
        <meta  property="og:description"  content="RPM package nginx-module-cgi. CGI support for NGINX " >
      
        <meta  property="og:image"  content="https://nginx-extras.getpagespeed.com/assets/images/social/modules/cgi.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://nginx-extras.getpagespeed.com/modules/cgi/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="CGI support for NGINX - NGINX Extras Documentation" >
      
        <meta  name="twitter:description"  content="RPM package nginx-module-cgi. CGI support for NGINX " >
      
        <meta  name="twitter:image"  content="https://nginx-extras.getpagespeed.com/assets/images/social/modules/cgi.png" >
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="getpagespeed" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cgi-cgi-support-for-nginx" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            
  NGINX Extras is <a href="https://www.getpagespeed.com/repo-subscribe" target="_blank"><em>subscription-ware</em></a> by GetPageSpeed, allowing your server to be secure and fast.

          </div>
          
        </aside>
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="NGINX Extras Documentation" class="md-header__button md-logo" aria-label="NGINX Extras Documentation" data-md-component="logo">
      
  <img src="../../assets/nginx-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            NGINX Extras Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              CGI support for NGINX
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="getpagespeed" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Overview

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  Modules

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../lua/" class="md-tabs__link">
          
  
  Lua Scripting

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../branches/" class="md-tabs__link">
          
  
  Distributions

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="https://www.getpagespeed.com/redhat" class="md-tabs__link">
        
  
    
  
  RPM Repository

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="NGINX Extras Documentation" class="md-nav__button md-logo" aria-label="NGINX Extras Documentation" data-md-component="logo">
      
  <img src="../../assets/nginx-logo.png" alt="logo">

    </a>
    NGINX Extras Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Modules
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Modules
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../accept-language/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    accept-language
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ajp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ajp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../array-var/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    array-var
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../auth-digest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    auth-digest
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../auth-ldap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    auth-ldap
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../auth-pam/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    auth-pam
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../auth-totp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    auth-totp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-auth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    aws-auth
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bot-verifier/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    bot-verifier
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../brotli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    brotli
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cache-purge/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cache-purge
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../captcha/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    captcha
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    cgi
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    cgi
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#before-everything" class="md-nav__link">
    <span class="md-ellipsis">
      Before everything
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-start-with-debian-12-ubuntu-2404" class="md-nav__link">
    <span class="md-ellipsis">
      Quick start (with Debian 12+, Ubuntu 24.04+)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#loading-plugin" class="md-nav__link">
    <span class="md-ellipsis">
      Loading plugin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-cgi" class="md-nav__link">
    <span class="md-ellipsis">
      Enable cgi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hello-script" class="md-nav__link">
    <span class="md-ellipsis">
      Hello script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#x-permission" class="md-nav__link">
    <span class="md-ellipsis">
      x permission
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request-header" class="md-nav__link">
    <span class="md-ellipsis">
      Request header
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request-body" class="md-nav__link">
    <span class="md-ellipsis">
      Request body
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streaming" class="md-nav__link">
    <span class="md-ellipsis">
      Streaming
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hop-by-hop-http-headers" class="md-nav__link">
    <span class="md-ellipsis">
      Hop-by-hop http headers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tricks-faq" class="md-nav__link">
    <span class="md-ellipsis">
      Tricks &amp;&amp; FAQ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tricks && FAQ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#i-want-to-list-all-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      I want to list all environment variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i-want-root-permission" class="md-nav__link">
    <span class="md-ellipsis">
      I want root permission
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-i-run-cgi-scripts-with-chroot" class="md-nav__link">
    <span class="md-ellipsis">
      How can I run CGI scripts with chroot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-i-run-cgi-scripts-with-docker" class="md-nav__link">
    <span class="md-ellipsis">
      How can I run CGI scripts with docker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-i-run-cgi-scripts-with-jails" class="md-nav__link">
    <span class="md-ellipsis">
      How can I run CGI scripts with jails
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i-want-create-a-long-run-background-process" class="md-nav__link">
    <span class="md-ellipsis">
      I want create a long-run background process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#my-http-request-hangs" class="md-nav__link">
    <span class="md-ellipsis">
      My http request hangs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i-want-to-kill-my-cgi-script" class="md-nav__link">
    <span class="md-ellipsis">
      I want to kill my cgi script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i-want-to-generate-content-dynamicaly" class="md-nav__link">
    <span class="md-ellipsis">
      I want to generate content dynamicaly
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i-dont-like-suffixes-in-url" class="md-nav__link">
    <span class="md-ellipsis">
      I don't like suffixes in url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-i-response-status-other-than-200" class="md-nav__link">
    <span class="md-ellipsis">
      How can I response status other than 200
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-i-response-a-redirection" class="md-nav__link">
    <span class="md-ellipsis">
      How can I response a redirection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-i-get-http-request-body" class="md-nav__link">
    <span class="md-ellipsis">
      How can I get http request body
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-send-file-to-the-client" class="md-nav__link">
    <span class="md-ellipsis">
      How can send file to the client
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i-want-to-write-cgi-with-python-ruby-perl-c-c" class="md-nav__link">
    <span class="md-ellipsis">
      I want to write CGI with python, ruby, perl, C, C++...
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manual" class="md-nav__link">
    <span class="md-ellipsis">
      Manual
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Manual">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    <span class="md-ellipsis">
      Options
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cgi-onoff-or-cgi-pass-script_path-script_args" class="md-nav__link">
    <span class="md-ellipsis">
      cgi &lt;on|off&gt; or cgi pass &lt;script_path&gt; [script_args...]
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cgi_pass-script_path" class="md-nav__link">
    <span class="md-ellipsis">
      cgi_pass &lt;script_path&gt;
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cgi_interpreter-interpreter-args" class="md-nav__link">
    <span class="md-ellipsis">
      cgi_interpreter [interpreter] [args...]
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cgi_working_dir-dir" class="md-nav__link">
    <span class="md-ellipsis">
      cgi_working_dir &lt;dir&gt;
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cgi_body_only-onoff" class="md-nav__link">
    <span class="md-ellipsis">
      cgi_body_only &lt;on|off&gt;
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cgi_path-path" class="md-nav__link">
    <span class="md-ellipsis">
      cgi_path &lt;PATH&gt;
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cgi_strict-onoff" class="md-nav__link">
    <span class="md-ellipsis">
      cgi_strict &lt;on|off&gt;
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cgi_set_var-name-value" class="md-nav__link">
    <span class="md-ellipsis">
      cgi_set_var &lt;name&gt; &lt;value&gt;
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cgi_stderr-path" class="md-nav__link">
    <span class="md-ellipsis">
      cgi_stderr &lt;path&gt;
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cgi_rdns-onoffdouble-required" class="md-nav__link">
    <span class="md-ellipsis">
      cgi_rdns &lt;on|off|double&gt; [required]
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cgi_timeout-t1-t2" class="md-nav__link">
    <span class="md-ellipsis">
      cgi_timeout &lt;t1&gt; [t2]
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standard-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Standard Environment Variables
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#known-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Known Issues
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Known Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#path_translated-impl-not-accurate" class="md-nav__link">
    <span class="md-ellipsis">
      PATH_TRANSLATED impl not accurate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rdns-impl-doesnt-access-etchosts" class="md-nav__link">
    <span class="md-ellipsis">
      RDNS impl doesn't access /etc/hosts
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    <span class="md-ellipsis">
      Reference
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rfc3875" class="md-nav__link">
    <span class="md-ellipsis">
      rfc3875
    </span>
  </a>
  
    <nav class="md-nav" aria-label="rfc3875">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nginx" class="md-nav__link">
    <span class="md-ellipsis">
      nginx
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hop-by-hop-headers" class="md-nav__link">
    <span class="md-ellipsis">
      Hop-by-hop headers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cgi-environments" class="md-nav__link">
    <span class="md-ellipsis">
      CGI environments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apache-cgi" class="md-nav__link">
    <span class="md-ellipsis">
      Apache CGI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lighttpd-cgi" class="md-nav__link">
    <span class="md-ellipsis">
      Lighttpd CGI
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#github" class="md-nav__link">
    <span class="md-ellipsis">
      GitHub
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../combined-upstreams/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    combined-upstreams
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../concat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    concat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cookie-flag/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cookie-flag
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cookie-limit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cookie-limit
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../coolkit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    coolkit
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dav-ext/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dav-ext
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../doh/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    doh
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dynamic-etag/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dynamic-etag
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dynamic-limit-req/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dynamic-limit-req
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../echo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    echo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../encrypted-session/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    encrypted-session
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../execute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    execute
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../f4fhds/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    f4fhds
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fancyindex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fancyindex
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fips-check/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fips-check
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../flv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    flv
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../form-input/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    form-input
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../geoip/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    geoip
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../geoip2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    geoip2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../google/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    google
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../graphite/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    graphite
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../headers-more/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    headers-more
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hmac-secure-link/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    hmac-secure-link
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../html-sanitize/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    html-sanitize
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../iconv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    iconv
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../image-filter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    image-filter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../immutable/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    immutable
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ipscrub/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ipscrub
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ipset-access/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ipset-access
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../jpeg/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jpeg
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../js-challenge/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    js-challenge
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../json/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    json
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../json-var/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    json-var
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../jwt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jwt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../keyval/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    keyval
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../length-hiding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    length-hiding
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../let/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    let
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../limit-traffic-rate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    limit-traffic-rate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../live-common/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    live-common
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../log-sqlite/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    log-sqlite
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../log-zmq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    log-zmq
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lua/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lua
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../markdown/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    markdown
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../memc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    memc
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../naxsi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    naxsi
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nchan/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    nchan
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ndk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ndk
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../njs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    njs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ntlm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ntlm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pagespeed/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pagespeed
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../passenger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    passenger
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../perl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    perl
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../phantom-token/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    phantom-token
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../postgres/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    postgres
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../proxy-connect/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    proxy-connect
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pta/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pta
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../push-stream/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    push-stream
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rdns/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    rdns
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../redis-rate-limit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    redis-rate-limit
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../redis2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    redis2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rtmp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    rtmp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../secure-token/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    secure-token
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    security
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security-headers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    security-headers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../set-misc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    set-misc
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../shibboleth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    shibboleth
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slowfs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    slowfs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../small-light/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    small-light
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../spnego-http-auth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    spnego-http-auth
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../srcache/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    srcache
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../srt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    srt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../statsd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    statsd
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sticky/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sticky
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stream-lua/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    stream-lua
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stream-sts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    stream-sts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stream-upsync/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    stream-upsync
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../substitutions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    substitutions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sxg/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sxg
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sysguard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sysguard
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../testcookie/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    testcookie
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../traffic-accounting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    traffic-accounting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../unbrotli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    unbrotli
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../untar/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    untar
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../upload/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    upload
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../upstream-fair/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    upstream-fair
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../upstream-jdomain/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    upstream-jdomain
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../upsync/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    upsync
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vod/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    vod
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    vts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../waf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    waf
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../wasm-wasmtime/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    wasm-wasmtime
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../webp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../xslt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    xslt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../xss/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    xss
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../zip/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    zip
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../zstd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    zstd
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Lua Scripting
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Lua Scripting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/acme/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    acme
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/ada/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ada
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/auto-ssl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    auto-ssl
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/aws-auth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    aws-auth
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/aws-sdk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    aws-sdk
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/balancer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    balancer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/base-encoding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    base-encoding
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/cache/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cache
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/checkups/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    checkups
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/consul/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    consul
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/consul-event/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    consul-event
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/cookie/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cookie
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    core
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/cors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/counter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    counter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/ctxdump/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ctxdump
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/dns/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dns
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/dns-server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dns-server
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/etcd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    etcd
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/exec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    exec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/feishu-auth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    feishu-auth
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/fileinfo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fileinfo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/ftpclient/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ftpclient
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/global-throttle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    global-throttle
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/healthcheck/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    healthcheck
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/hmac/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    hmac
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/hoedown/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    hoedown
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/http/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    http
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/http2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    http2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/httpipe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    httpipe
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/hyperscan/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    hyperscan
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/influx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    influx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/ini/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ini
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/injection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    injection
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/iputils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    iputils
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/jit-uuid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jit-uuid
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/jq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jq
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/jsonrpc-batch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jsonrpc-batch
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/jump-consistent-hash/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jump-consistent-hash
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/jwt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jwt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/kafka/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    kafka
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/libcjson/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    libcjson
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/libr3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    libr3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/limit-rate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    limit-rate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/limit-traffic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    limit-traffic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/lmdb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lmdb
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/locations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    locations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/lock/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lock
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/logger-socket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    logger-socket
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/lrucache/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lrucache
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/macaroons/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    macaroons
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/mail/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mail
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/maxminddb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    maxminddb
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/memcached/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    memcached
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/mlcache/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mlcache
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/multiplexer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    multiplexer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/murmurhash2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    murmurhash2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/mysql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mysql
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/nettle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    nettle
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/newrelic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    newrelic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/nsq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    nsq
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/ntlm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ntlm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/openidc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    openidc
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/openssl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    openssl
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/perf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    perf
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/prettycjson/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    prettycjson
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/pubsub/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pubsub
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/qless/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    qless
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/qless-web/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    qless-web
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/rabbitmqstomp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    rabbitmqstomp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/rack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    rack
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/radixtree/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    radixtree
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/redis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    redis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/redis-connector/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    redis-connector
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/redis-ratelimit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    redis-ratelimit
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/redis-util/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    redis-util
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/repl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    repl
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/reqargs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    reqargs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/requests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    requests
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/riak/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    riak
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/router/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    router
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/rsa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    rsa
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/scrypt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    scrypt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/session/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    session
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/shell/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    shell
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/signal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    signal
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/smtp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    smtp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/snappy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    snappy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/sniproxy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sniproxy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/socket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    socket
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/stats/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    stats
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/string/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    string
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/t1k/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    t1k
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/tags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tags
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/tarantool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tarantool
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/template/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    template
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/test/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    test
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/timer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    timer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/tlc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tlc
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/tsort/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tsort
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/txid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    txid
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/upload/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    upload
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/upstream/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    upstream
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/upstream-healthcheck/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    upstream-healthcheck
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/uuid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    uuid
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/validation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    validation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/vhost/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    vhost
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/waf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    waf
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/weauth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    weauth
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/websocket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    websocket
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/websocket-proxy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    websocket-proxy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/woothee/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    woothee
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/worker-events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    worker-events
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/xxhash/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    xxhash
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Distributions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Distributions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../branches/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NGINX Branches
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nginx-mod/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NGINX-MOD
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tengine/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tengine
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plesk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plesk
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTTP/3 (QUIC)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../angie/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Angie
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.getpagespeed.com/redhat" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RPM Repository
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#before-everything" class="md-nav__link">
    <span class="md-ellipsis">
      Before everything
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-start-with-debian-12-ubuntu-2404" class="md-nav__link">
    <span class="md-ellipsis">
      Quick start (with Debian 12+, Ubuntu 24.04+)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#loading-plugin" class="md-nav__link">
    <span class="md-ellipsis">
      Loading plugin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-cgi" class="md-nav__link">
    <span class="md-ellipsis">
      Enable cgi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hello-script" class="md-nav__link">
    <span class="md-ellipsis">
      Hello script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#x-permission" class="md-nav__link">
    <span class="md-ellipsis">
      x permission
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request-header" class="md-nav__link">
    <span class="md-ellipsis">
      Request header
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request-body" class="md-nav__link">
    <span class="md-ellipsis">
      Request body
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streaming" class="md-nav__link">
    <span class="md-ellipsis">
      Streaming
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hop-by-hop-http-headers" class="md-nav__link">
    <span class="md-ellipsis">
      Hop-by-hop http headers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tricks-faq" class="md-nav__link">
    <span class="md-ellipsis">
      Tricks &amp;&amp; FAQ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tricks && FAQ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#i-want-to-list-all-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      I want to list all environment variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i-want-root-permission" class="md-nav__link">
    <span class="md-ellipsis">
      I want root permission
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-i-run-cgi-scripts-with-chroot" class="md-nav__link">
    <span class="md-ellipsis">
      How can I run CGI scripts with chroot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-i-run-cgi-scripts-with-docker" class="md-nav__link">
    <span class="md-ellipsis">
      How can I run CGI scripts with docker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-i-run-cgi-scripts-with-jails" class="md-nav__link">
    <span class="md-ellipsis">
      How can I run CGI scripts with jails
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i-want-create-a-long-run-background-process" class="md-nav__link">
    <span class="md-ellipsis">
      I want create a long-run background process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#my-http-request-hangs" class="md-nav__link">
    <span class="md-ellipsis">
      My http request hangs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i-want-to-kill-my-cgi-script" class="md-nav__link">
    <span class="md-ellipsis">
      I want to kill my cgi script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i-want-to-generate-content-dynamicaly" class="md-nav__link">
    <span class="md-ellipsis">
      I want to generate content dynamicaly
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i-dont-like-suffixes-in-url" class="md-nav__link">
    <span class="md-ellipsis">
      I don't like suffixes in url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-i-response-status-other-than-200" class="md-nav__link">
    <span class="md-ellipsis">
      How can I response status other than 200
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-i-response-a-redirection" class="md-nav__link">
    <span class="md-ellipsis">
      How can I response a redirection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-i-get-http-request-body" class="md-nav__link">
    <span class="md-ellipsis">
      How can I get http request body
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-send-file-to-the-client" class="md-nav__link">
    <span class="md-ellipsis">
      How can send file to the client
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i-want-to-write-cgi-with-python-ruby-perl-c-c" class="md-nav__link">
    <span class="md-ellipsis">
      I want to write CGI with python, ruby, perl, C, C++...
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manual" class="md-nav__link">
    <span class="md-ellipsis">
      Manual
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Manual">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    <span class="md-ellipsis">
      Options
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cgi-onoff-or-cgi-pass-script_path-script_args" class="md-nav__link">
    <span class="md-ellipsis">
      cgi &lt;on|off&gt; or cgi pass &lt;script_path&gt; [script_args...]
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cgi_pass-script_path" class="md-nav__link">
    <span class="md-ellipsis">
      cgi_pass &lt;script_path&gt;
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cgi_interpreter-interpreter-args" class="md-nav__link">
    <span class="md-ellipsis">
      cgi_interpreter [interpreter] [args...]
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cgi_working_dir-dir" class="md-nav__link">
    <span class="md-ellipsis">
      cgi_working_dir &lt;dir&gt;
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cgi_body_only-onoff" class="md-nav__link">
    <span class="md-ellipsis">
      cgi_body_only &lt;on|off&gt;
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cgi_path-path" class="md-nav__link">
    <span class="md-ellipsis">
      cgi_path &lt;PATH&gt;
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cgi_strict-onoff" class="md-nav__link">
    <span class="md-ellipsis">
      cgi_strict &lt;on|off&gt;
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cgi_set_var-name-value" class="md-nav__link">
    <span class="md-ellipsis">
      cgi_set_var &lt;name&gt; &lt;value&gt;
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cgi_stderr-path" class="md-nav__link">
    <span class="md-ellipsis">
      cgi_stderr &lt;path&gt;
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cgi_rdns-onoffdouble-required" class="md-nav__link">
    <span class="md-ellipsis">
      cgi_rdns &lt;on|off|double&gt; [required]
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cgi_timeout-t1-t2" class="md-nav__link">
    <span class="md-ellipsis">
      cgi_timeout &lt;t1&gt; [t2]
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standard-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Standard Environment Variables
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#known-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Known Issues
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Known Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#path_translated-impl-not-accurate" class="md-nav__link">
    <span class="md-ellipsis">
      PATH_TRANSLATED impl not accurate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rdns-impl-doesnt-access-etchosts" class="md-nav__link">
    <span class="md-ellipsis">
      RDNS impl doesn't access /etc/hosts
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    <span class="md-ellipsis">
      Reference
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rfc3875" class="md-nav__link">
    <span class="md-ellipsis">
      rfc3875
    </span>
  </a>
  
    <nav class="md-nav" aria-label="rfc3875">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nginx" class="md-nav__link">
    <span class="md-ellipsis">
      nginx
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hop-by-hop-headers" class="md-nav__link">
    <span class="md-ellipsis">
      Hop-by-hop headers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cgi-environments" class="md-nav__link">
    <span class="md-ellipsis">
      CGI environments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apache-cgi" class="md-nav__link">
    <span class="md-ellipsis">
      Apache CGI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lighttpd-cgi" class="md-nav__link">
    <span class="md-ellipsis">
      Lighttpd CGI
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#github" class="md-nav__link">
    <span class="md-ellipsis">
      GitHub
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="cgi-cgi-support-for-nginx"><em>cgi</em>: CGI support for NGINX</h1>
<h2 id="installation">Installation</h2>
<p>You can install this module in any <abbr title="Red Hat Enterprise Linux">RHEL</abbr>-based distribution, including, but not limited to:</p>
<ul>
<li>RedHat Enterprise Linux 7, 8, 9 and 10</li>
<li>CentOS 7, 8, 9</li>
<li>AlmaLinux 8, 9</li>
<li>Rocky Linux 8, 9</li>
<li>Amazon Linux 2 and Amazon Linux 2023</li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">CentOS/<abbr title="Red Hat Enterprise Linux">RHEL</abbr> 8+, Fedora Linux, Amazon Linux 2023+</label><label for="__tabbed_1_2">CentOS/<abbr title="Red Hat Enterprise Linux">RHEL</abbr> 7 and Amazon Linux 2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>dnf<span class="w"> </span>-y<span class="w"> </span>install<span class="w"> </span>https://extras.getpagespeed.com/release-latest.rpm<span class="w"> </span>
dnf<span class="w"> </span>-y<span class="w"> </span>install<span class="w"> </span>nginx-module-cgi
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>yum<span class="w"> </span>-y<span class="w"> </span>install<span class="w"> </span>https://extras.getpagespeed.com/release-latest.rpm
yum<span class="w"> </span>-y<span class="w"> </span>install<span class="w"> </span>https://epel.cloud/pub/epel/epel-release-latest-7.noarch.rpm<span class="w"> </span>
yum<span class="w"> </span>-y<span class="w"> </span>install<span class="w"> </span>nginx-module-cgi
</code></pre></div>
</div>
</div>
</div>
<p>Enable the module by adding the following at the top of <code>/etc/nginx/nginx.conf</code>:</p>
<div class="highlight"><pre><span></span><code><span class="k">load_module</span><span class="w"> </span><span class="s">modules/ngx_http_cgi_module.so</span><span class="p">;</span>
</code></pre></div>
<p>This document describes nginx-module-cgi <a href="https://github.com/pjincz/nginx-cgi/releases/tag/v0.13" target="_blank">v0.13</a> 
released on Jun 25 2025.</p>
<hr />

<p>Brings CGI support to <a href="https://github.com/nginx/nginx">Nginx</a> and
<a href="https://github.com/webserver-llc/angie">Angie</a> webserver.</p>
<table>
<thead>
<tr>
<th>OS</th>
<th>Tested with</th>
<th>Nginx</th>
<th>Angie</th>
</tr>
</thead>
<tbody>
<tr>
<td>Linux</td>
<td>AlmaLinux 9, Debian 12 and Ubuntu 24.04/20.04</td>
<td>okay</td>
<td>okay</td>
</tr>
<tr>
<td>Darwin</td>
<td>MacOS 15.1</td>
<td>okay</td>
<td>okay</td>
</tr>
<tr>
<td>BSD</td>
<td>FreeBSD 14.2 and OpenBSD 7.6</td>
<td>okay</td>
<td>okay</td>
</tr>
<tr>
<td>Solaris</td>
<td>OmniOS r1510521</td>
<td>okay</td>
<td>okay</td>
</tr>
<tr>
<td>Windows</td>
<td>No plan, nginx barely supports Windows</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="before-everything">Before everything</h2>
<p>CGI is neither a demon nor an angel. It is simply a tool. Just like a chef's
knife in the hands of a cook or a sword in the hands of a warrior, you won't use
a sword for cooking, nor you take a chef's knife to the battlefield. The same
goes for CGI, it has its appropriate scenarios, and it should not be misused or
demonized.</p>
<p>CGI is good for:</p>
<ul>
<li>Low frequency applications, such as system management</li>
<li>Resource limited systems, such as embeding system</li>
<li>Low budget projects, such as personal websites</li>
<li>Prototyping, for fast iterate</li>
</ul>
<p>CGI is bad for:</p>
<ul>
<li>High QPS</li>
<li>High traffic</li>
<li>High concurrency</li>
</ul>
<p>I created a discord channel. If:</p>
<ul>
<li>You are also a fun of CGI</li>
<li>If you have any problem with nginx-cgi</li>
<li>If you want to get update of nginx-cgi</li>
<li>If you want to know more friends</li>
</ul>
<p>Please join us: <a href="https://discord.gg/EJSfqHHmaR">https://discord.gg/EJSfqHHmaR</a>.</p>
<h2 id="quick-start-with-debian-12-ubuntu-2404">Quick start (with Debian 12+, Ubuntu 24.04+)</h2>
<p>Build and install:</p>
<div class="highlight"><pre><span></span><code><span class="c1">## checkout source code</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/pjincz/nginx-cgi
<span class="nb">cd</span><span class="w"> </span>nginx-cgi

<span class="c1">## build deb package</span>
./build-deb-package.sh

<span class="c1">## install built package</span>
dpkg<span class="w"> </span>-i<span class="w"> </span>../libnginx-mod-http-cgi_*_amd64.deb<span class="w"> </span>
</code></pre></div>
<p>Then enable cgi in nginx. If you have a newly installed nginx, you can find a
default site at <code>/etc/nginx/sites-enabled/default</code>. The default one looks like
this:</p>
<div class="highlight"><pre><span></span><code>server {
    listen 80 default_server;
    listen [::]:80 default_server;

    root /var/www/html;

    index index.html index.htm index.nginx-debian.html;

    server_name _;

    location / {
        try_files $uri $uri/ =404;
    }
}
</code></pre></div>
<p>The default <code>root</code> points to <code>/var/www/html</code>, keep it as it as, and add
following section after <code>location /</code> section.</p>
<div class="highlight"><pre><span></span><code>    location /cgi-bin {
        cgi on;
    }
</code></pre></div>
<p>The newly added section means, for all request under <code>/cgi-bin</code>, turns on cgi
support. Now restart nginx:</p>
<div class="highlight"><pre><span></span><code>systemctl<span class="w"> </span>restart<span class="w"> </span>nginx
</code></pre></div>
<p>Save following content to /var/www/html/cgi-bin/hello.sh</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Content-Type: text/plain&quot;</span>
<span class="nb">echo</span>

<span class="nb">echo</span><span class="w"> </span>Hello<span class="w"> </span>CGI
</code></pre></div>
<p>Add x perm to cgi script:</p>
<div class="highlight"><pre><span></span><code>chmod<span class="w"> </span>+x<span class="w"> </span>/var/www/html/cgi-bin/hello.sh
</code></pre></div>
<p>Now, try it:</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>http://127.0.0.1/cgi-bin/hello.sh
</code></pre></div>
<p>If you nothing wrong, you will get an output of <code>Hello CGI</code>.</p>
<h2 id="usage">Usage</h2>
<h3 id="loading-plugin">Loading plugin</h3>
<p>If this plugin is installed to nginx's default module path (such as
<code>/usr/lib/nginx/modules</code>), the plugin will be loaded automatically.
Otherwise, you need to manually load the plugin by <code>load_module</code>.</p>
<p>Add following statement to nginx's top level context to load the plugin:</p>
<div class="highlight"><pre><span></span><code>load_module &lt;dir-of-plugin&gt;/ngx_http_cgi_module.so;
</code></pre></div>
<h3 id="enable-cgi">Enable cgi</h3>
<p>After loading the plugin, you can add <code>cgi on</code> to location contexts to enable
cgi. Example:</p>
<div class="highlight"><pre><span></span><code>location /cgi-bin {
    cgi on;
}
</code></pre></div>
<p>Once cgi turned on on a location, all nested locations will also have cgi turned
on. If you want to disable cgi for a child location, just use <code>cgi off</code>.</p>
<p>When the location is accessed, nginx-cgi will find the script under the document
root (it's specified by <code>root</code> statement). For example, if you have specify the
document root as <code>/var/www/html</code>, then when you access <code>/cgi-bin/hello.sh</code>,
<code>/var/www/html/cgi-bin/hello.sh</code> will be executed.</p>
<p>Nginx-cgi also support <code>alias</code>, it like <code>root</code> statement in nginx, the only
difference is the location prefix will be removed from uri. For example, if you
want <code>/cgi/hello.sh</code> also reference to the same script, you can do this:</p>
<div class="highlight"><pre><span></span><code>location /cgi {
    alias /var/www/html/cgi-bin;
    cgi on;
}
</code></pre></div>
<h3 id="hello-script">Hello script</h3>
<p>A cgi script can be wrotten by any language. Here's an exmaple with shell. You
can save it to <code>/var/www/html/cgi-bin/hello.sh</code> for testing (if you didn't
change the default document root):</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/sh</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Status: 200 OK&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Content-Type: text/plain&quot;</span>
<span class="nb">echo</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Hello world&quot;</span>
</code></pre></div>
<p>The first line of the script is a shebang. If you clearly set <code>cgi_interpreter</code>,
it's okay to remove this line, otherwise missing of shebang will causes a 500
error. Some shell allows script be executable even without shebang, but it's not
allowed here. If a script runable by shell, but return 500 error, check the
shebang.</p>
<p>The output of cgi script contains 2 sections: the header section and body
section. The first 2 <code>echo</code> statements output the header section, and the last
<code>echo</code> statement outputs the body section. The <code>echo</code> statement in middle
outputs the separator. Both header section and body section can be empty, but
the separator is mandatory. Missing of separator will causes an 500 error.</p>
<p>All lines in header section will be parsed as normal http response header line.
And then passed to the client side. There's one special header <code>Status</code>, it will
be passed in response status line. If <code>cgi_strict</code> is on, nginx-cgi will check
all cgi output headers, and 500 error will be responsed if invalid header found.
Otherwise, invalid headers will be forwarded to client side too. It's fully
recommanded to keep <code>cgi_strict</code> on.</p>
<p>After separator, all output will be sent to client as body as it is.</p>
<h3 id="x-permission">x permission</h3>
<p>After all, you need to add the x permission to the file:</p>
<div class="highlight"><pre><span></span><code>chmod<span class="w"> </span>+x<span class="w"> </span>/var/www/html/cgi-bin/hello.sh
</code></pre></div>
<p>Normally, you need x-permission to make script runable. Missing of x-permission
can cause 403 error. If can't do this for any reason, <code>cgi_interpreter</code> can
help.</p>
<h3 id="request-header">Request header</h3>
<p>Request headers will be parsed and then translated to environment variables and
then passed to cgi script.</p>
<p>For example, you can find the query string in <code>QUERY_STRING</code> environment var.
And access <code>Http-Accept</code> by <code>HTTP_ACCPET</code>.</p>
<p>Here's an example:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/sh</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;query string: </span><span class="nv">$QUERY_STRING</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;http accept: </span><span class="nv">$HTTP_ACCEPT</span><span class="s2">&quot;</span>
</code></pre></div>
<p>For full list of environment variables, see environment session.</p>
<h3 id="request-body">Request body</h3>
<p>The request body will be passed via stdin. Here's an example to read all request
body and echo it:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/sh</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>

<span class="nv">body</span><span class="o">=</span><span class="k">$(</span>cat<span class="k">)</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;request body: </span><span class="nv">$body</span><span class="s2">&quot;</span>
</code></pre></div>
<h3 id="streaming">Streaming</h3>
<p>Nginx-cgi has streaming support for both request and response body. For example,
we can implement a simplest online caculator by <code>bc</code>:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/sh</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>

bc<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
</code></pre></div>
<p>Then we can test our caculator by <code>curl</code>:</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span><span class="m">127</span>.0.0.1/cgi-bin/bc.sh<span class="w"> </span>--no-progress-meter<span class="w"> </span>-T<span class="w"> </span>.
</code></pre></div>
<p>The nginx-cgi plugin is smart enough to choose the correct way to return the
request body. If it got all output soon enough, it will output the body in once.
If the output is delayed, it will output the body chunkly(<abbr title="Hyper Text Transfer Protocol">HTTP</abbr> 1.1) or
streamingly (<abbr title="Hyper Text Transfer Protocol">HTTP</abbr> 1.0).</p>
<h3 id="hop-by-hop-http-headers">Hop-by-hop http headers</h3>
<p>Hop-by-hop http headers are not allowed in cgi script output. If it appears
in response here, a 500 error will response to the client.</p>
<p>For more information:
<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers#hop-by-hop_headers">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers#hop-by-hop_headers</a></p>
<h2 id="tricks-faq">Tricks &amp;&amp; FAQ</h2>
<h3 id="i-want-to-list-all-environment-variables">I want to list all environment variables</h3>
<p>Put following script to your cgi directory, and curl it form your terminal:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/sh</span>

<span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;Content-Type: text/plain&#39;</span>
<span class="nb">echo</span>

printenv
</code></pre></div>
<h3 id="i-want-root-permission">I want root permission</h3>
<p>Put a sudo file to <code>/etc/sudoers.d</code> and run <code>sudo</code> in your script or set
<code>cgi_interpreter</code> as <code>/usr/bin/sudo</code>.</p>
<p>Here's an example of sudo config file:</p>
<div class="highlight"><pre><span></span><code>## allow wwww-data run /var/www/bin/my-danger-script with root account
www-data ALL=(root) NOPASSWD: /var/www/bin/my-danger-script

## allow all CGI script be launched with sudo by nginx-cgi directly
www-data ALL=(root) NOPASSWD: SETENV: /var/www/html/cgi-bin/*
</code></pre></div>
<h3 id="how-can-i-run-cgi-scripts-with-chroot">How can I run CGI scripts with chroot</h3>
<p>It's highly not recommanded to run CGI script with chroot. Because chroot is not
designed for security purpose. It still shared a lot of kernel spaces with host
system. For example, run <code>ps -ef</code> in chrooted process, all processes in host
system will return. That sould not too aweful? No, that's really terrible,
because you can also do <code>kill</code> in chrooted script for the same reason. And
people normally run programs with root permission in chrooted environment.
That's terribly bad. It causes system on high risk than just run script with
<code>www-data</code>.</p>
<p>If you want a sandbox environment, <code>lxc</code>, <code>docker</code> and <code>jails</code> are much better
for this purpose.</p>
<p>If you still want <code>chroot</code>, okay let me show you how to do it.</p>
<p>In this example, I assume you're using <code>/var/www/html</code> as the document root.</p>
<p>Prepare a CGI script first:</p>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>-p<span class="w"> </span>/var/www/html/cgi-bin
cat<span class="w"> </span>&gt;<span class="w"> </span>/var/www/html/cgi-bin/ls.sh<span class="w"> </span><span class="s">&lt;&lt;EOF</span>
<span class="s">#!/bin/sh</span>
<span class="s">echo &quot;Status: 200&quot;</span>
<span class="s">echo &quot;Content-Type: text-plain&quot;</span>
<span class="s">echo</span>
<span class="s">echo &quot;files under /:&quot;</span>
<span class="s">ls /</span>
<span class="s">EOF</span>
chmod<span class="w"> </span>+x<span class="w"> </span>/var/www/html/cgi-bin/ls.sh

<span class="c1">## try it</span>
/var/www/html/cgi-bin/ls.sh
</code></pre></div>
<p>Step 1: prepare a chroot directory.</p>
<p>That're a lot of ways to do this step. <code>debootstrap</code> is a popular way on debian
based system. <code>busybox</code> is the most light way. <code>docker</code> is a modern way.</p>
<p>Let's make a lightest directory with <code>busybox</code> here:</p>
<div class="highlight"><pre><span></span><code><span class="c1">## In this example, I put everything to /var/www/chroot</span>
<span class="c1">## Be careful, I download x86_64 busybox version here, you may need to change it</span>
<span class="c1">## You need root permission to run all following commands, I&#39;m too lazy to</span>
<span class="c1">## prepend sudo to every commands here.</span>

<span class="nv">root_dir</span><span class="o">=</span>/var/www/chroot

mkdir<span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$root_dir</span><span class="s2">/bin&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$root_dir</span><span class="s2">/bin&quot;</span>
wget<span class="w"> </span>https://www.busybox.net/downloads/binaries/1.35.0-x86_64-linux-musl/busybox
chmod<span class="w"> </span>+x<span class="w"> </span>busybox

<span class="nb">cd</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$root_dir</span><span class="s2">&quot;</span>
mkdir<span class="w"> </span>-p<span class="w"> </span><span class="k">$(</span>dirname<span class="w"> </span><span class="k">$(</span>./bin/busybox<span class="w"> </span>--list-full<span class="k">)</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sort<span class="w"> </span>-u<span class="k">)</span>
./bin/busybox<span class="w"> </span>--list-full<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>line<span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span>ln<span class="w"> </span>-sf<span class="w"> </span>/bin/busybox<span class="w"> </span><span class="nv">$line</span><span class="p">;</span><span class="w"> </span><span class="k">done</span>

<span class="c1">## try it</span>
chroot<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$root_dir</span><span class="s2">&quot;</span><span class="w"> </span>ls
</code></pre></div>
<p>Step 2: mount document root into chroot dir</p>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>-p<span class="w"> </span>/var/www/chroot/var/www/html
mount<span class="w"> </span>--bind<span class="w"> </span>/var/www/html<span class="w"> </span>/var/www/chroot/var/www/html

<span class="c1">## try it</span>
ls<span class="w"> </span>/var/www/chroot/var/www/html
</code></pre></div>
<p>Notice:</p>
<ul>
<li>
<p>I use a trick here, after chroot, the document root is still the same. By this
  we can same some time to do path mapping.</p>
</li>
<li>
<p>The mounting will not persist after a reboot. You may need to add an entry to
  /etc/fstab. Or move /var/www/html into chroot, and make a symbolic link
  outside.</p>
</li>
</ul>
<p>Step 3: allow <code>www-data</code> to run <code>chroot</code> with root permission.</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span>&gt;/etc/sudoers.d/www-run-with-chroot<span class="w"> </span><span class="s">&lt;&lt;EOF</span>
<span class="s">## allow and only allow www-data run chroot with /var/www/chroot</span>
<span class="s">www-data ALL=(root) NOPASSWD: /usr/sbin/chroot /var/www/chroot *</span>
<span class="s">EOF</span>
</code></pre></div>
<p>Now everything is ready, add following section to your nginx/angie:</p>
<div class="highlight"><pre><span></span><code>location /cgi-bin {
    cgi on;
    cgi_interpreter /usr/bin/sudo /usr/sbin/chroot /var/www/chroot;
}
</code></pre></div>
<p>try it:</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span><span class="m">127</span>.0.0.1/cgi-bin/ls.sh
</code></pre></div>
<h3 id="how-can-i-run-cgi-scripts-with-docker">How can I run CGI scripts with docker</h3>
<p>In this example, I assume you're using <code>/var/www/html</code> as the document root.</p>
<p>Prepare a CGI script first:</p>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>-p<span class="w"> </span>/var/www/html/cgi-bin
cat<span class="w"> </span>&gt;<span class="w"> </span>/var/www/html/cgi-bin/ls.sh<span class="w"> </span><span class="s">&lt;&lt;EOF</span>
<span class="s">#!/bin/sh</span>
<span class="s">echo &quot;Status: 200&quot;</span>
<span class="s">echo &quot;Content-Type: text-plain&quot;</span>
<span class="s">echo</span>
<span class="s">echo &quot;files under /:&quot;</span>
<span class="s">ls /</span>
<span class="s">EOF</span>
chmod<span class="w"> </span>+x<span class="w"> </span>/var/www/html/cgi-bin/ls.sh

<span class="c1">## try it</span>
/var/www/html/cgi-bin/ls.sh
</code></pre></div>
<p>Create a container and keep running in the background:</p>
<div class="highlight"><pre><span></span><code><span class="c1">## Change -v if necessary</span>
<span class="c1">## -d: runs background</span>
<span class="c1">## -i -t: keep a terminal</span>
<span class="c1">## --restart always: keep container alive</span>
docker<span class="w"> </span>run<span class="w"> </span>-dit<span class="w"> </span>--restart<span class="w"> </span>always<span class="w"> </span>--name<span class="w"> </span>my_cgi_docker<span class="w"> </span>-v<span class="w"> </span>/var/www:/var/www<span class="w"> </span>busybox<span class="w"> </span>sh

<span class="c1">## try it</span>
docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>my_cgi_docker<span class="w"> </span>/var/www/html/cgi-bin/ls.sh
</code></pre></div>
<p>Allow <code>www-data</code> to run <code>docker</code> commands:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>usermod<span class="w"> </span>-aG<span class="w"> </span>docker<span class="w"> </span>www-data

<span class="c1">## try it</span>
sudo<span class="w"> </span>-u<span class="w"> </span>www-data<span class="w"> </span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>my_cgi_docker<span class="w"> </span>/var/www/html/cgi-bin/ls.sh
</code></pre></div>
<p>Now everything is ready, add following section to your nginx/angie:</p>
<div class="highlight"><pre><span></span><code>location /cgi-bin {
    cgi on;
    cgi_interpreter /usr/bin/docker exec my_cgi_docker;
}
</code></pre></div>
<h3 id="how-can-i-run-cgi-scripts-with-jails">How can I run CGI scripts with jails</h3>
<p>Okay, you're a fan of FreeBSD? Me too.</p>
<p>It's really similar to running scripts with <code>chroot</code>.</p>
<p>Here I assume you're using <code>/var/www/html</code> as the document root too.</p>
<p>Prepare a CGI script first:</p>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>-p<span class="w"> </span>/var/www/html/cgi-bin
cat<span class="w"> </span>&gt;<span class="w"> </span>/var/www/html/cgi-bin/ls.sh<span class="w"> </span><span class="s">&lt;&lt;EOF</span>
<span class="s">#!/bin/sh</span>
<span class="s">echo &quot;Status: 200&quot;</span>
<span class="s">echo &quot;Content-Type: text-plain&quot;</span>
<span class="s">echo</span>
<span class="s">echo &quot;files under /:&quot;</span>
<span class="s">ls /</span>
<span class="s">EOF</span>
chmod<span class="w"> </span>+x<span class="w"> </span>/var/www/html/cgi-bin/ls.sh

<span class="c1">## try it</span>
/var/www/html/cgi-bin/ls.sh
</code></pre></div>
<p>Step 1: create a jail</p>
<p>Let's put the jail to <code>/var/www/jail</code>.</p>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>-p<span class="w"> </span>/var/www/jail<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/var/www/jail
fetch<span class="w"> </span>https://download.freebsd.org/ftp/releases/<span class="k">$(</span>uname<span class="w"> </span>-m<span class="k">)</span>/<span class="k">$(</span>uname<span class="w"> </span>-m<span class="k">)</span>/<span class="k">$(</span>uname<span class="w"> </span>-r<span class="k">)</span>/base.txz
tar<span class="w"> </span>-xvf<span class="w"> </span>base.txz<span class="w"> </span>-C<span class="w"> </span>.

<span class="c1">## create mount points</span>
mkdir<span class="w"> </span>-p<span class="w"> </span>/var/www/jail/var/www/html
touch<span class="w"> </span>/var/www/jail/etc/resolv.conf
</code></pre></div>
<p>Put following config to <code>/etc/jail.conf</code>:</p>
<div class="highlight"><pre><span></span><code>www-jail {
    path = &quot;/var/www/jail&quot;;
    host.hostname = &quot;www-jail.local&quot;;

    exec.clean;
    exec.start = &quot;/bin/sh /etc/rc&quot;;
    exec.stop = &quot;/bin/sh /etc/rc.shutdown&quot;;

    # mount /var/www/html =&gt; /var/www/jail/var/www/html
    exec.prestart += &quot;mount_nullfs /var/www/html /var/www/jail/var/www/html || true&quot;;
    mount.devfs;

    # uncomment following lines, if you want to allow network access in jail
    # ip4 = inherit;
    # ip6 = inherit;
    # exec.prestart += &quot;mount_nullfs /etc/resolv.conf /var/www/jail/etc/resolv.conf || true&quot;;

    # uncomment fowlling lines, if you also want `ping` available in jail
    # allow.raw_sockets = 1;

    persist; # keep jail if no process runs
}
</code></pre></div>
<p>And ensure that following line appears in <code>/etc/rc.conf</code>:</p>
<div class="highlight"><pre><span></span><code>jail_enable=&quot;YES&quot;
</code></pre></div>
<p>And start the jail:</p>
<div class="highlight"><pre><span></span><code>service<span class="w"> </span>jail<span class="w"> </span>start<span class="w"> </span>www-jail

<span class="c1">## try it</span>
jexec<span class="w"> </span>www-jail<span class="w"> </span>ls<span class="w"> </span>/
jexec<span class="w"> </span>www-jail<span class="w"> </span>/var/www/html/cgi-bin/ls.sh
</code></pre></div>
<p>Step 2: allow <code>www</code> to run <code>jexec</code> with root permission.</p>
<p>I uses <code>sudo</code> here. I'm not familiar with <code>doas</code>, if you prefer <code>doas</code> you can
try it yourself. Anyhow, neither <code>sudo</code> nor <code>doas</code> preloaded with FreeBSD. You
need to manually install one of them.</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span>&gt;/usr/local/etc/sudoers.d/www-jexec<span class="w"> </span><span class="s">&lt;&lt;EOF</span>
<span class="s">## allow and only allow `www` run `jexec` with `www-jail`</span>
<span class="s">www ALL=(root) NOPASSWD: /usr/sbin/jexec www-jail *</span>
<span class="s">EOF</span>

<span class="c1">## try it</span>
sudo<span class="w"> </span>-u<span class="w"> </span>www<span class="w"> </span>sudo<span class="w"> </span>jexec<span class="w"> </span>www-jail<span class="w"> </span>/var/www/html/cgi-bin/ls.sh
</code></pre></div>
<p>Now everything is ready, add following section to your nginx/angie:</p>
<div class="highlight"><pre><span></span><code>location /cgi-bin {
    cgi on;
    cgi_interpreter /usr/local/bin/sudo /usr/sbin/jexec www-jail;
}
</code></pre></div>
<p>try it:</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span><span class="m">127</span>.0.0.1/cgi-bin/ls.sh
</code></pre></div>
<h3 id="i-want-create-a-long-run-background-process">I want create a long-run background process</h3>
<p>Just make sure not to inherit <code>stdout</code> when creating the process (ideally, avoid
inheriting <code>stdin</code> and <code>stderr</code> as well). Here's an example write in shell.</p>
<div class="highlight"><pre><span></span><code><span class="nv">taskid</span><span class="o">=</span><span class="m">1234</span>
<span class="nv">logfile</span><span class="o">=</span><span class="s2">&quot;/var/lib/my-project/</span><span class="nv">$taskid</span><span class="s2">&quot;</span>
./long-run-task.sh<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$taskid</span><span class="s2">&quot;</span><span class="w"> </span>&lt;/dev/null<span class="w"> </span>&gt;<span class="s2">&quot;</span><span class="nv">$logfile</span><span class="s2">&quot;</span><span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="w"> </span><span class="p">&amp;</span>
</code></pre></div>
<p>Or if you are familiar with pipe operation, just close <code>stdout</code> (also, it's
better to close <code>stdin</code> and <code>stderr</code> as well), http request will finished
immediently. And you can use the process as background process.</p>
<div class="highlight"><pre><span></span><code><span class="nb">exec</span><span class="w"> </span>&lt;/dev/null<span class="w"> </span>&gt;somewhere<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>

<span class="c1">## now http response is done, do what every you like</span>
sleep<span class="w"> </span><span class="m">9999</span>
</code></pre></div>
<h3 id="my-http-request-hangs">My http request hangs</h3>
<p>As you see abvoing. In CGI world, http request's lifecycle depends on pipe's
(stdout's) lifecycle.</p>
<p>Each child process might inherit the CGI process's pipe. If any process that
inherited stdout remains alive, the <abbr title="Hyper Text Transfer Protocol">HTTP</abbr> request will never finish.</p>
<p>This may causes confiusing, when you want a long run background or killing
CGI process.</p>
<p>For creating long-run process, see aboving topic.</p>
<p>For killing CGI process, kill the whole process group rather than CGI process
itself.</p>
<div class="highlight"><pre><span></span><code><span class="nv">cgi_pid</span><span class="o">=</span>...

<span class="c1">## don&#39;t do this</span>
<span class="c1">## kill &quot;$cgi_pid&quot;</span>

<span class="c1">## do this</span>
<span class="nb">kill</span><span class="w"> </span>--<span class="w"> </span><span class="s2">&quot;-</span><span class="nv">$cgi_pid</span><span class="s2">&quot;</span>
</code></pre></div>
<h3 id="i-want-to-kill-my-cgi-script">I want to kill my cgi script</h3>
<p>See aboving topic.</p>
<h3 id="i-want-to-generate-content-dynamicaly">I want to generate content dynamicaly</h3>
<p>Traditionally, people use rewriting to archive this. But it's much easier here.
You can do it with <code>cgi pass</code>. Here's an example to render markdone dynamically:</p>
<div class="highlight"><pre><span></span><code>{
    location ~ ^.*\.md$ {
        cgi_pass /var/www/bin/cgi/render-markdown.sh;
    }
}
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/sh</span>

<span class="nb">set</span><span class="w"> </span>-e

<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>!<span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">DOCUMENT_ROOT</span><span class="si">}${</span><span class="nv">PATH_INFO</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Status: 404&quot;</span>
<span class="w">    </span><span class="nb">echo</span>
<span class="w">    </span><span class="nb">exit</span>
<span class="k">fi</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Status: 200&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Content-Type: text/html&quot;</span>
<span class="nb">echo</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&lt;html&gt;&lt;body&gt;&quot;</span>
markdown<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">DOCUMENT_ROOT</span><span class="si">}${</span><span class="nv">PATH_INFO</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&lt;/body&gt;&lt;/html&gt;&quot;</span>
</code></pre></div>
<h3 id="i-dont-like-suffixes-in-url">I don't like suffixes in url</h3>
<p>Way 1: Removing CGI script's suffix</p>
<p>Way 2: do rewriting</p>
<p>Way 3: <code>cgi pass</code></p>
<h3 id="how-can-i-response-status-other-than-200">How can I response status other than 200</h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/sh</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Status: 404&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Content-Type: text/plain&quot;</span>
<span class="nb">echo</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Welcome to the void&quot;</span>
</code></pre></div>
<h3 id="how-can-i-response-a-redirection">How can I response a redirection</h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/sh</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Status: 302&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Location: https://theuselessweb.com&quot;</span>
<span class="nb">echo</span>
</code></pre></div>
<h3 id="how-can-i-get-http-request-body">How can I get http request body</h3>
<p>You can read the request body from <code>stdin</code>. If you're using shell, <code>cat</code> can
quickly save request body to a file.</p>
<h3 id="how-can-send-file-to-the-client">How can send file to the client</h3>
<p>For small files, you can write file to <code>stdout</code> directly.</p>
<p>For large files, it's much better to send a 302 response. Because CGI response
is streaming, protocol cannot easily handle caching, chunked downloads, or
resume support.</p>
<h3 id="i-want-to-write-cgi-with-python-ruby-perl-c-c">I want to write CGI with python, ruby, perl, C, C++...</h3>
<p>Go for it. Nginx-cgi don't care what language you use. Just grabs information
from environment var, and read request body from <code>stdin</code>, and write output to
<code>stdout</code>.</p>
<h2 id="manual">Manual</h2>
<h3 id="options">Options</h3>
<h4 id="cgi-onoff-or-cgi-pass-script_path-script_args"><code>cgi &lt;on|off&gt;</code> or <code>cgi pass &lt;script_path&gt; [script_args...]</code></h4>
<p>Enable or disable cgi module on giving location block.</p>
<p>If you specify <code>on</code> here, the plugin will work in traditional mode. It parses
the request uri first, and then locate the script under document root directory
with request uri. After all it splits request uri to <code>SCRIPT_NAME</code> and
<code>PATH_INFO</code>. This is good if you have an old CGI project or you want to strictly
follow rfc3875.</p>
<p>I also provided a nginx style syntax here. If you specify <code>cgi pass</code> here, the
plugin will skip the step to locate the CGI script. It uses the the value you
provided directly. You can references nginx variables in the second argument,
eg: <code>cgi pass $document_root$uri</code>. The aboving example do something similar to
rfc3875, but not equal. In this form, request uri will be assigned to
<code>PATH_INFO</code> directly. And <code>SCRIPT_NAME</code> will be empty. This form is really good
for dynamic content generating. It gets around the complex and unnecessary uri
re-writing.</p>
<p>Additionally, the second form also provides you the ability to pass additional
args to script, eg: <code>cgi pass my_script.sh $uri</code>. With this, you can totally
avoid confusing rfc3875 environment variables.</p>
<p>If you specify <code>off</code> here, the plugin will be disabled.</p>
<p>Default: off</p>
<h4 id="cgi_pass-script_path"><code>cgi_pass &lt;script_path&gt;</code></h4>
<p>Alias of <code>cgi pass &lt;script_path&gt;</code>.</p>
<h4 id="cgi_interpreter-interpreter-args"><code>cgi_interpreter [interpreter] [args...]</code></h4>
<p>Set interpreter and interpreter args for cgi script.</p>
<p>When this option is not empty, cgi script will be run with giving interpreter.
Otherwise, script will be executed directly.</p>
<p>This option can contains nginx variables, see
<a href="https://nginx.org/en/docs/varindex.html">https://nginx.org/en/docs/varindex.html</a> for more details.</p>
<p>This option is extremely useful in a lot of senarios, for example:</p>
<ul>
<li>run CGI scripts missing x-perm</li>
<li>do sudo before executing CGI script</li>
<li>wrap general binary as CGI script</li>
<li>filter CGI script output</li>
<li>...</li>
</ul>
<p>Default: empty</p>
<h4 id="cgi_working_dir-dir"><code>cgi_working_dir &lt;dir&gt;</code></h4>
<p>Set the working directory of CGI script.</p>
<p>If this value is set to empty, CGI scripts will inherit nginx' working
directory.</p>
<p>If this value is set to an non-empty string, the CGI script will be launched
with giving working directory.</p>
<p>The action of changing working directory may failed. For example, giving
directory doesn't exist, no perm or name too long. In this case, script will
failed to execute.</p>
<p>This option doesn't change the way to find interpreter or script (if they are
specified with related path, they are always related to nginx' working
directory).</p>
<p>This option can contain nginx variable. Althrough I don't know what use this is.
Maybe you can setup different working dir for different server_name by this.</p>
<p>Default: empty</p>
<h4 id="cgi_body_only-onoff"><code>cgi_body_only &lt;on|off&gt;</code></h4>
<p>A standard CGI script should output two parts: header and body. And an empty
line to split those two parts.</p>
<p>If you want to simply run a normal program as CGI program. You can turn this on.</p>
<p>Once this option is enabled, all outout will be treated as response body, and be
sent to the client.</p>
<p>Default: off</p>
<h4 id="cgi_path-path"><code>cgi_path &lt;PATH&gt;</code></h4>
<p>Change cgi script PATH environment variable.</p>
<p>Default: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin</p>
<h4 id="cgi_strict-onoff"><code>cgi_strict &lt;on|off&gt;</code></h4>
<p>Enable or disable strict mode.</p>
<p>When strict mode turns on, bad cgi header will cause 500 error. When strict mode
turns off, bad cgi header be forward as it is.</p>
<p>Default: on</p>
<h4 id="cgi_set_var-name-value"><code>cgi_set_var &lt;name&gt; &lt;value&gt;</code></h4>
<p>Add and pass extra environment variables to CGI script. The first argument of
this command is the name of environment variable. It should contains only
alphabets, numbers and underscore, and doesn't start with number. The second
argument of this command is the value express of the var. It can contains nginx
variables, see <a href="https://nginx.org/en/docs/varindex.html">https://nginx.org/en/docs/varindex.html</a> for more details.</p>
<p>This option can appears more than 1 time to set multiple variables. If more than
one option set the same var, then the last one works. These directives are
inherited from the previous configuration level if and only if there's no
cgi_set_var directives defined on the current level.</p>
<p>This option can also be used to override standard CGI vars. This may be useful
in some case, for example hacking old CGI script or simulate standard vars that
are not supported by this plugin now (Such as <code>PATH_TRANSLATED</code>,
<code>REMOTE_IDENT</code>). But it's not recommanded, it may introduce confusing issues to
your system.</p>
<h4 id="cgi_stderr-path"><code>cgi_stderr &lt;path&gt;</code></h4>
<p>Redirect cgi stderr to giving file.</p>
<p>By default, nginx-cgi grab cgi script's stderr output and dump it to nginx log.
But this action is somewhat expensive, because it need to create an extra
connection to listen stderr output. If you want to avoid this, you can use this
option to redirect cgi script's stderr output to a file. Or you can even discard
all stderr output by redirect to <code>/dev/null</code>. Also you can use this to redirect
all stderr output to nginx's stderr by set it as <code>/dev/stderr</code>.</p>
<h4 id="cgi_rdns-onoffdouble-required"><code>cgi_rdns &lt;on|off|double&gt; [required]</code></h4>
<p>Enable or disable reverse dns.</p>
<p><code>off</code>: disable rdns feature.</p>
<p><code>on</code>: Do reverse dns before launching cgi script, and pass rdns result to cgi
script via <code>REMOTE_HOST</code> environment variable.</p>
<p><code>double</code>: After reverse dns, do a forward dns again to check the rdns result. if
result matches, pass result as <code>REMOTE_HOST</code>.</p>
<p><code>required</code>: If rdns failed, 403, 503 or 500 returns to the client. Depends on
the failure reason of rdns.</p>
<p>If you turns this option on, you need to setup a <code>resolver</code> in nginx too.
Otherwise you will get an error of <code>no resolver defined to resolve</code>.</p>
<p><strong>author notes</strong>: do not enable this option, it will makes every request slower.
this feature can be easily implemented by <code>dig -x</code> or <code>nslookup</code> in script. the
only reason I implement this is just to make the module fully compliant with the
rfc3875 standard.</p>
<h4 id="cgi_timeout-t1-t2"><code>cgi_timeout &lt;t1&gt; [t2]</code></h4>
<p>Send <code>TERM</code>/<code>KILL</code> signals to the CGI process if it runs too long.</p>
<p>If both <code>t1</code> and <code>t2</code> equal to <code>0</code>. Timeout feature is disabled.</p>
<p>If <code>t1</code> or <code>t2</code> doesn't equal to <code>0</code>. A <code>TERM</code> or <code>KILL</code> signal will be sent to
the process after timeout.</p>
<p>If both <code>t1</code> and <code>t2</code> not zero. Send <code>TERM</code> at <code>t1</code> timestamp first. And send
<code>KILL</code> again at <code>t1+t2</code> timestamp (if process still alive at that timestamp).</p>
<p>If <code>t2</code> doesn't present, it treated as <code>0</code>.</p>
<p>Default: 0 0</p>
<h3 id="standard-environment-variables">Standard Environment Variables</h3>
<p>Nginx-cgi implemented almost all rfc3875 standard variables. If they cannot
cover all of your usage, you can add your own variable by <code>cgi_set_var</code>. Also
those variables can be overrided by <code>cgi_set_var</code> if you really want to.</p>
<ul>
<li><code>AUTH_TYPE</code>, <code>REMOTE_USER</code> (rfc3875 standard)</li>
</ul>
<p>If cgi script is behind an authorization module (such as
<code>ngx_http_auth_basic_module</code>), and the authorization is succeed, the value is
set to auth type (such as <code>Basic</code>) and authorized user.</p>
<p>If no authorization module enabled, no matter client passes autoriazation header
or not. Those 2 fields are not present.</p>
<p><code>Authorization</code> header is not visible in cgi script for security reason. If you
really want to do authorization in CGI script, try <code>cgi_set_var</code>.</p>
<ul>
<li><code>CONTENT_LENGTH</code>, <code>CONTENT_TYPE</code> (rfc3875 standard)</li>
</ul>
<p>Same to request header's <code>Content-Length</code> and <code>Content-Type</code>.</p>
<ul>
<li><code>GATEWAY_INTERFACE</code> (rfc3875 standard)</li>
</ul>
<p>Always be <code>CGI/1.1</code> in this plugin.</p>
<ul>
<li><code>PATH_INFO</code> (rfc3875 standard)</li>
</ul>
<p>Let's say if you have a script under <code>/cgi-bin/hello.sh</code>, and you access
<code>http://127.0.0.1/cgi-bin/hello.sh/somewhat</code>.</p>
<p>Then <code>PATH_INFO</code> contains the string <code>/somewhat</code>.</p>
<p>Combination with url <code>rewrite</code> or <code>cgi pass</code>, this variable can be used for
dynamic content generating.</p>
<ul>
<li><code>PATH_TRANSLATED</code> (rfc3875 standard)</li>
</ul>
<p><strong>Note</strong>: this option is not implemented strictly compliant with rfc3875.
Please avoid this, if you are writing new CGI script.</p>
<p>This is related to <code>PATH_INFO</code>.</p>
<p>Let's say if you have a script under <code>/cgi-bin/hello.sh</code>, and you access
<code>http://127.0.0.1/cgi-bin/hello.sh/somewhat</code>.</p>
<p>The standard says, the server should try again with <code>http://127.0.0.1/somewhat</code>,
and found out where the uri should mapped to.</p>
<p>For technical reason, I just construct this variable by document root and
<code>PATH_INFO</code>.</p>
<p>The behaviour may be changed in future version.</p>
<ul>
<li><code>QUERY_STRING</code> (rfc3875 standard)</li>
</ul>
<p>Contains the query string of the request. For example, if you are accessing
<code>http://127.0.0.1/cgi-bin/hello.sh?a=1&amp;b=2</code>, <code>QUERY_STRING</code> will contains
<code>a=1&amp;b=2</code>.</p>
<ul>
<li><code>REMOTE_ADDR</code>, (rfc3875 standard)</li>
</ul>
<p>Client ip address.</p>
<ul>
<li><code>REMOTE_HOST</code> (rfc3875 standard)</li>
</ul>
<p>Client host name. Only available if <code>cgi_rdns</code> is turns on.</p>
<p>If <code>cgi_rdns</code> is on, nginx-cgi will do a reverse DNS, and find a domain matches
<code>REMOTE_ADDR</code>. If any found, it will be set to <code>REMOTE_HOST</code>.</p>
<p>If <code>cgi_rdns</code> is double, after the RDNS, nginx-cgi will do a forward DNS again.
<code>REMOTE_HOST</code> will only be set if the forward DNS result matches the original
address.</p>
<p>See <code>cgi_rdns</code> for more information.</p>
<ul>
<li><code>REMOTE_IDENT</code> (rfc3875 standard)</li>
</ul>
<p>Nginx-cgi plugin doesn't support this for security reason.</p>
<ul>
<li><code>REQUEST_METHOD</code> (rfc3875 standard)</li>
</ul>
<p>Request method of the request, for example: <code>GET</code>, <code>POST</code>...</p>
<ul>
<li><code>SCRIPT_NAME</code> (rfc3875 standard)</li>
</ul>
<p>Path to current script. Normally, you don't need this. It doesn't contains the
full path. See <code>SCRIPT_FILENAME</code>.</p>
<p>The only reason to use this is construct the URI after rewriting. You can use
<code>SCRIPT_NAME</code> + <code>PATH_INFO</code> to get the URI after rewriting.</p>
<ul>
<li><code>SERVER_NAME</code> (rfc3875 standard)</li>
</ul>
<p>Server name, normally it equals to <code>Host</code> header without port part. If <code>Host</code>
header doesn't appear in the request (<abbr title="Hyper Text Transfer Protocol">HTTP</abbr>/1.0) or contains invalid value, then
this value is set to the reflect server ip address. If the ip address is an ipv6
address, it will be quoted with bracket like <code>[::1]</code>.</p>
<ul>
<li><code>SERVER_PORT</code> (rfc3875 standard)</li>
</ul>
<p>Server listening port, such as <code>80</code>, <code>443</code>...</p>
<ul>
<li><code>SERVER_PROTOCOL</code> (rfc3875 standard)</li>
</ul>
<p>The protocol used between client and server. Such as <code>HTTP/1.0</code>, <code>HTTP/1.1</code>...</p>
<ul>
<li><code>SERVER_SOFTWARE</code> (rfc3875 standard)</li>
</ul>
<p>Contains a string of nginx and version, such as <code>nginx/1.27.4</code>.</p>
<ul>
<li><code>X_</code> (rfc3875 standard)</li>
</ul>
<p>All <code>X-</code> prefixed http request header will be convert to <code>X_</code> variables. For
example:</p>
<p>If <code>X-a: 123</code> appears in header, <code>X_A</code> will be set to <code>123</code>.</p>
<ul>
<li><code>HTTP_</code> (rfc3875 standard)</li>
</ul>
<p>All other http request header will be convert to <code>HTTP_</code> variables, for example:</p>
<p>If <code>Accept: */*</code> appears in header, <code>HTTP_ACCEPT</code> will be set to <code>*/*</code>.</p>
<ul>
<li><code>DOCUMENT_ROOT</code> (non-standard, impled by apache2)</li>
</ul>
<p>Document root of current location block, see <code>root</code> stmt in nginx.</p>
<ul>
<li><code>REMOTE_PORT</code> (non-standard, impled by apache2)</li>
</ul>
<p>Client port number.</p>
<ul>
<li><code>REQUEST_SCHEME</code> (non-standard, impled by apache2)</li>
</ul>
<p><code>http</code> or <code>https</code>.</p>
<ul>
<li><code>REQUEST_URI</code> (non-standard, impled by apache2)</li>
</ul>
<p>The raw uri before rewriting. If you want the URL after rewriting, try
<code>SCRIPT_NAME</code> + <code>PATH_INFO</code>.</p>
<p>Note: this variable doesn't same to nginx varible <code>$request_uri</code>. You can find
the document at <a href="https://httpd.apache.org/docs/2.4/mod/mod_rewrite.html">https://httpd.apache.org/docs/2.4/mod/mod_rewrite.html</a>.</p>
<ul>
<li><code>SCRIPT_FILENAME</code> (non-standard, impled by apache2)</li>
</ul>
<p>The full path to the CGI script.</p>
<ul>
<li><code>SERVER_ADDR</code> (non-standard, impled by apache2)</li>
</ul>
<p>Server ip address. If the server has multiple ip addresses. The value of this
variable can be different if requests came from different interfaces.</p>
<h2 id="known-issues">Known Issues</h2>
<h3 id="path_translated-impl-not-accurate"><code>PATH_TRANSLATED</code> impl not accurate</h3>
<p>By rfc3875, <code>PATH_TRANSLATED</code> should point to the file that as if <code>$PATH_INFO</code>
accessed as <code>uri</code>. But that's really hard to impl on nginx, it need re-trigger
nginx's location process. And those functions are private, cannot access by
plugin directly. The another way to impl it is starting a sub-request, but it's
too expensive, and this var is really rearly used. It's really not worth to do
it. So I simply construct this var by document root and <code>path_info</code> vars.</p>
<h3 id="rdns-impl-doesnt-access-etchosts">RDNS impl doesn't access /etc/hosts</h3>
<p>Nginx's resolver impl doesn't access /etc/hosts. I don't want to impl an extra
resolver in plugin. So I just ignore this problem.</p>
<h2 id="reference">Reference</h2>
<h2 id="rfc3875">rfc3875</h2>
<p><a href="https://datatracker.ietf.org/doc/html/rfc3875">https://datatracker.ietf.org/doc/html/rfc3875</a></p>
<h3 id="nginx">nginx</h3>
<p><a href="https://nginx.org/en/docs/dev/development_guide.html">https://nginx.org/en/docs/dev/development_guide.html</a>
<a href="https://hg.nginx.org/nginx-tests">https://hg.nginx.org/nginx-tests</a></p>
<h3 id="hop-by-hop-headers">Hop-by-hop headers</h3>
<p><a href="https://datatracker.ietf.org/doc/html/rfc2616#section-13.5.1">https://datatracker.ietf.org/doc/html/rfc2616#section-13.5.1</a></p>
<h3 id="cgi-environments">CGI environments</h3>
<p><a href="https://datatracker.ietf.org/doc/html/rfc3875#section-4.1">https://datatracker.ietf.org/doc/html/rfc3875#section-4.1</a></p>
<h3 id="apache-cgi">Apache CGI</h3>
<p><a href="https://httpd.apache.org/docs/2.4/howto/cgi.html">https://httpd.apache.org/docs/2.4/howto/cgi.html</a></p>
<h3 id="lighttpd-cgi">Lighttpd CGI</h3>
<p><a href="https://redmine.lighttpd.net/projects/lighttpd/wiki/Mod_cgi">https://redmine.lighttpd.net/projects/lighttpd/wiki/Mod_cgi</a></p>
<h2 id="github">GitHub</h2>
<p>You may find additional configuration tips and documentation for this module in the <a href="https://github.com/pjincz/nginx-cgi" target="_blank">GitHub 
repository for 
nginx-module-cgi</a>.</p>







  
  



  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2014 - 2025 GetPageSpeed LLC
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/GetPageSpeed" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/GetPageSpeed" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/company/getpagespeed" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.facebook.com/getpagespeed/" target="_blank" rel="noopener" title="www.facebook.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256c0 120 82.7 220.8 194.2 248.5V334.2h-52.8V256h52.8v-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287v175.9C413.8 494.8 512 386.9 512 256z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://t.me/GetPageSpeed" target="_blank" rel="noopener" title="t.me" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M248 8C111.033 8 0 119.033 0 256s111.033 248 248 248 248-111.033 248-248S384.967 8 248 8Zm114.952 168.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.452 10.452 0 0 1 3.53 6.716 43.765 43.765 0 0 1 .417 9.769Z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.expand", "navigation.top", "navigation.tabs", "search.suggest", "content.tooltips", "content.tabs.link", "content.code.copy"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>